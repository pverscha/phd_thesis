<!DOCTYPE html>
<html>
  <head>
    <title>Unipept Desktop Case Study - Main visualization</title>
    <meta charset="utf-8" />

    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.6.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
  </head>
  <body>
    <!-- Container for the visualization -->
    <div id="vis"></div>

    <script>
        const materialBlue = "#1E88E5";
        const materialGreen = "#7CB342";
        const materialRed = "#E53935";

        const vlSpec = {
          "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
          "width": 1000,
          "height": 500,
          "autosize": {
            "type": "fit",
            "contains": "padding"
          },
          "config": {
            "axis": {"labelFont": "Myriad Pro", "titleFont": "Myriad Pro", "labelFontSize": 16, "titleFontSize": 24},
            "legend": {"labelFont": "Myriad Pro", "titleFont": "Myriad Pro", "labelFontSize": 16, "titleFontSize": 24},
            "header": {"labelFont": "Myriad Pro", "titleFont": "Myriad Pro"},
            "mark": {"font": "Myriad Pro", "fontSize": 16 },
            "title": {"font": "Myriad Pro", "subtitleFont": "Myriad Pro"},
          },
          "data": {
            "values": [
              {"category":"S03", "group": "X!Tandem", "value": 54},
              {"category":"S03", "group": "Percolator", "value": 58},
              {"category":"S05", "group": "X!Tandem", "value": 48},
              {"category":"S05", "group": "Percolator", "value": 52},
              {"category":"S07", "group": "X!Tandem", "value": 50},
              {"category":"S07", "group": "Percolator", "value": 53},
              {"category":"S08", "group": "X!Tandem", "value": 68},
              {"category":"S08", "group": "Percolator", "value": 73},
              {"category":"S11_F1-4", "group": "X!Tandem", "value": 65},
              {"category":"S11_F1-4", "group": "Percolator", "value": 69},
            ]
          },
          "mark": {
            "type": "bar",
            "cornerRadiusEnd": {"expr": 3}
          },
          "encoding": {
            "x": {
              "field": "category",
              "scale": {
                "paddingInner": 0.40,
                "paddingOuter": 0.40
              },
              "axis": {
                "title": "Sample",
              }
            },
            "y": {
              "field": "value",
              "type": "quantitative",
              "axis": {
                "title": "Identification rate (%)",
                "titlePadding": 20
              }
            },
            "xOffset": {"field": "group"},
            "color": {
              "field": "group",
              "type": "nominal",
              "scale": {"domain": ["X!Tandem", "Percolator"], "range": [materialBlue, materialRed]},
              "legend": {
                "title": null,
                "labelFontSize": 24,
                "symbolSize": 200,
                "orient": "bottom"
              }
            }
          }
        }

      // Embed the visualization in the container with id `vis`
      vegaEmbed('#vis', vlSpec);
    </script>
  </body>
</html>
